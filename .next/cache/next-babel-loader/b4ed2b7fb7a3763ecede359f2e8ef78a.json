{"ast":null,"code":"var _jsxFileName = \"/Users/gabrieldossantos/Google Drive (webmaster@wigoo.com.br)/Wigoo Desenvolvimento/justfit.com.br/clicoupersonal.com.br/checkout/pages/historico-do-aluno.js\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/*eslint-disable*/\nimport React from \"react\";\nimport { useEffect, useState } from 'react'; // react components for routing our app without refresh\n\nimport Link from \"next/link\";\nimport Router from 'next/router';\nimport PropTypes from 'prop-types'; // @material-ui/core components\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport Icon from \"@material-ui/core/Icon\"; // @material-ui/icons\n\nimport Email from \"@material-ui/icons/Email\";\nimport Favorite from \"@material-ui/icons/Favorite\";\nimport AssignmentInd from \"@material-ui/icons/AssignmentInd\"; // core components\n\nimport Head from 'next/head';\nimport Header from \"components/Header/Header.js\";\nimport HeaderLinks from \"components/Header/HeaderLinks.js\";\nimport Footer from \"components/Footer/Footer.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CustomInput from \"components/CustomInput/CustomInput.js\";\nimport SnackbarContent from \"components/Snackbar/SnackbarContent.js\";\nimport Input from '@material-ui/core/Input';\nimport MaskedInput from 'react-text-mask';\nimport SectionFooter from \"pages-sections/footer/SectionFooter.js\";\nimport axios from 'axios';\nimport loginPageStyle from \"assets/jss/nextjs-material-kit-pro/pages/loginPageStyle.js\";\nimport image from \"assets/img/bg7.jpg\";\n\nfunction TextMaskCustom(props) {\n  const {\n    inputRef\n  } = props,\n        other = _objectWithoutProperties(props, [\"inputRef\"]);\n\n  return __jsx(MaskedInput, _extends({}, other, {\n    ref: ref => {\n      inputRef(ref ? ref.inputElement : null);\n    } // mask={['(', /[1-9]/, /\\d/, /\\d/, ')', ' ', /\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, /\\d/]}\n    ,\n    mask: [/[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, '-', /[0-9]/, /[0-9]/] // placeholderChar={'\\u2000'}\n    ,\n    showMask: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }));\n}\n\nTextMaskCustom.propTypes = {\n  inputRef: PropTypes.func.isRequired\n};\nconst useStyles = makeStyles(loginPageStyle);\nexport default function LoginPage() {\n  React.useEffect(() => {\n    window.scrollTo(0, 0);\n    document.body.scrollTop = 0;\n  }, []);\n  const [values, setValues] = React.useState({\n    textmask: '(1  )    -    ',\n    numberformat: '1320'\n  });\n  const {\n    0: cpfUser,\n    1: setCpfUser\n  } = useState(\"\");\n\n  const handleFocus = event => event.target.select(); // const [user, setUser] = useState({\n  //   nome: \"\",\n  //   email: \"\",\n  //   cpf: \"\",\n  // });\n\n\n  const {\n    0: user,\n    1: setUser\n  } = useState({});\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: error,\n    1: setError\n  } = useState(false);\n  const {\n    0: errorMessage,\n    1: setErrorMessage\n  } = useState({\n    title: \"\",\n    message: \"\"\n  });\n  const {\n    0: dangerError,\n    1: setDangerError\n  } = useState(false);\n  const {\n    0: faleConosco,\n    1: setFaleConosco\n  } = useState(false);\n\n  const fetchData = async cpf => {\n    // await axios.get(`https://api.fale.justfit.com.br/fechamentounidade/consultaExtrato?cpf=${cpf} 389.727.318-70`)\n    await axios.get(`https://api.fale.justfit.com.br/fechamentounidade/consultaExtrato?cpf=${cpf}`).then(res => {\n      setError(false); // setUsers(prevState => [...prevState, ...res.data]);\n\n      setUser(res.data); // console.log(res.data.cliente);\n\n      if (res.data.error) {\n        console.log(error);\n\n        switch (res.data.error) {\n          case 'Cliente já possue uma oferta cadastrada.':\n            setErrorMessage({\n              title: \"Você já selecionou uma oferta\",\n              message: \"Em caso de dúvida, envie uma mensagem no fale conosco\"\n            });\n            setFaleConosco(true);\n            break;\n\n          default:\n            setErrorMessage({\n              title: res.data.error,\n              // message: \"Verifique seu CPF e tente novamente\"\n              message: \"\"\n            });\n            break;\n        }\n\n        setError(true);\n      } else {\n        localStorage.setItem('@justfit/user', JSON.stringify(res.data));\n        Router.push('/menu');\n      }\n    }).catch(error => {\n      console.log(error);\n      setDangerError(true);\n    }).finally(() => {\n      setLoading(false);\n    });\n  }; // React.useEffect(() => {\n  //   fetchData();\n  // }, []);\n\n\n  React.useEffect(() => {// console.log(user);\n  }, [user]); // function handleClick(event) {\n  //   e.preventDefault();\n  //   console.log('O link foi clicado.');\n  //   alert(cpfUser);\n  //   console.log(cpfUser);\n  // }\n  // function handleChange(event) {\n  //   setError(false);\n  //   event.preventDefault();      \n  //   setCpfUser(event.target.value);       \n  // }\n\n  function handleClick(event) {\n    event.preventDefault();\n    setCpfUser(\"\");\n    setError(false);\n    setFaleConosco(false);\n  }\n\n  function handleChange(event) {\n    setError(false);\n    setDangerError(false);\n    event.preventDefault();\n    setCpfUser(event.target.value);\n  }\n\n  ;\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    setLoading(true);\n    fetchData(cpfUser);\n  };\n\n  const classes = useStyles();\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 5\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }\n  }, \"Hist\\xF3rico do Aluno - Just Fit\")), __jsx(Header, {\n    absolute: true,\n    color: \"transparent\" // brand=\"NextJS Material Kit PRO\"\n    // imgBrand={image}\n    ,\n    links: __jsx(HeaderLinks, {\n      dropdownHoverColor: \"info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 16\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: classes.pageHeader,\n    style: {\n      backgroundSize: \"cover\",\n      backgroundPosition: \"top center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: classes.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 9\n    }\n  }, __jsx(GridContainer, {\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 11\n    }\n  }, __jsx(GridItem, {\n    xs: 12,\n    sm: 8,\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 13\n    }\n  }, __jsx(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 15\n    }\n  }, __jsx(\"form\", {\n    className: classes.form,\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 17\n    }\n  }, __jsx(CardHeader, {\n    color: \"info\",\n    signup: true,\n    className: classes.cardHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 19\n    }\n  }, __jsx(\"h4\", {\n    className: classes.cardTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 21\n    }\n  }, \"Digite o seu CPF\")), __jsx(CardBody, {\n    signup: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 19\n    }\n  }, dangerError && __jsx(SnackbarContent, {\n    message: __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 27\n      }\n    }, __jsx(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 29\n      }\n    }, \"Erro ao buscar os dados:\"), \" Tente novamente mais tarde\") // close\n    ,\n    color: \"danger\",\n    icon: \"info_outline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 23\n    }\n  }), error && __jsx(SnackbarContent, {\n    message: __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 27\n      }\n    }, __jsx(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 29\n      }\n    }, errorMessage.title), \" \", __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 57\n      }\n    }), \" \", errorMessage.message) // close\n    ,\n    color: \"warning\",\n    icon: \"info_outline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 23\n    }\n  }), !faleConosco && __jsx(CustomInput, {\n    id: \"cpf\",\n    formControlProps: {\n      fullWidth: true\n    },\n    inputProps: {\n      placeholder: \"CPF...\",\n      type: \"text\",\n      value: cpfUser,\n      onChange: handleChange,\n      onFocus: handleFocus,\n      inputComponent: TextMaskCustom,\n      startAdornment: __jsx(InputAdornment, {\n        position: \"start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 29\n        }\n      }, __jsx(AssignmentInd, {\n        className: classes.inputIconsColor,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 31\n        }\n      }))\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 23\n    }\n  })), __jsx(\"div\", {\n    className: classes.textCenter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 19\n    }\n  }, loading && __jsx(CircularProgress, {\n    style: {\n      color: \"#cad300\"\n    },\n    size: 30,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 23\n    }\n  }), !loading && !faleConosco && __jsx(Button, {\n    button: true,\n    round: true,\n    color: \"primary\",\n    size: \"lg\",\n    type: \"submit\",\n    value: \"Submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 23\n    }\n  }, \"Ver meu extrato\"), faleConosco && __jsx(React.Fragment, null, __jsx(Button, {\n    button: true,\n    round: true,\n    color: \"primary\",\n    size: \"lg\",\n    href: \"https://justfit.com.br/fale-conosco/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 25\n    }\n  }, \"Ir para Fale Conosco\"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 25\n    }\n  }), __jsx(Button, {\n    button: true,\n    round: true,\n    color: \"secondary\",\n    size: \"lg\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 25\n    }\n  }, \"Voltar\")))))))), __jsx(SectionFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/gabrieldossantos/Google Drive (webmaster@wigoo.com.br)/Wigoo Desenvolvimento/justfit.com.br/clicoupersonal.com.br/checkout/pages/historico-do-aluno.js"],"names":["React","useEffect","useState","Link","Router","PropTypes","makeStyles","InputAdornment","CircularProgress","List","ListItem","Icon","Email","Favorite","AssignmentInd","Head","Header","HeaderLinks","Footer","GridContainer","GridItem","Button","Card","CardBody","CardHeader","CustomInput","SnackbarContent","Input","MaskedInput","SectionFooter","axios","loginPageStyle","image","TextMaskCustom","props","inputRef","other","ref","inputElement","propTypes","func","isRequired","useStyles","LoginPage","window","scrollTo","document","body","scrollTop","values","setValues","textmask","numberformat","cpfUser","setCpfUser","handleFocus","event","target","select","user","setUser","loading","setLoading","error","setError","errorMessage","setErrorMessage","title","message","dangerError","setDangerError","faleConosco","setFaleConosco","fetchData","cpf","get","then","res","data","console","log","localStorage","setItem","JSON","stringify","push","catch","finally","handleClick","preventDefault","handleChange","value","handleSubmit","classes","pageHeader","backgroundSize","backgroundPosition","container","form","cardHeader","cardTitle","fullWidth","placeholder","type","onChange","onFocus","inputComponent","startAdornment","inputIconsColor","textCenter","color"],"mappings":";;;;;;;;;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC,C,CACA;;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AAEA,OAAOC,SAAP,MAAsB,YAAtB,C,CAIA;;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,IAAP,MAAiB,wBAAjB,C,CACA;;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,aAAP,MAA0B,kCAA1B,C,CACA;;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,OAAOC,WAAP,MAAwB,kCAAxB;AACA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,OAAOC,aAAP,MAA0B,kCAA1B;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,MAAP,MAAmB,oCAAnB;AACA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,WAAP,MAAwB,uCAAxB;AACA,OAAOC,eAAP,MAA4B,wCAA5B;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AAEA,OAAOC,WAAP,MAAwB,iBAAxB;AAGA,OAAOC,aAAP,MAA0B,wCAA1B;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,cAAP,MAA2B,4DAA3B;AAEA,OAAOC,KAAP,MAAkB,oBAAlB;;AAGA,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;AAC7B,QAAM;AAAEC,IAAAA;AAAF,MAAyBD,KAA/B;AAAA,QAAqBE,KAArB,4BAA+BF,KAA/B;;AAEA,SACE,MAAC,WAAD,eACME,KADN;AAEE,IAAA,GAAG,EAAGC,GAAD,IAAS;AACZF,MAAAA,QAAQ,CAACE,GAAG,GAAGA,GAAG,CAACC,YAAP,GAAsB,IAA1B,CAAR;AACD,KAJH,CAKE;AALF;AAME,IAAA,IAAI,EAAE,CAAC,OAAD,EAAU,OAAV,EAAmB,OAAnB,EAA4B,GAA5B,EAAiC,OAAjC,EAA0C,OAA1C,EAAmD,OAAnD,EAA4D,GAA5D,EAAiE,OAAjE,EAA0E,OAA1E,EAAmF,OAAnF,EAA4F,GAA5F,EAAiG,OAAjG,EAA0G,OAA1G,CANR,CAOE;AAPF;AAQE,IAAA,QAAQ,MARV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF;AAYD;;AAEDL,cAAc,CAACM,SAAf,GAA2B;AACzBJ,EAAAA,QAAQ,EAAE9B,SAAS,CAACmC,IAAV,CAAeC;AADA,CAA3B;AAIA,MAAMC,SAAS,GAAGpC,UAAU,CAACyB,cAAD,CAA5B;AAEA,eAAe,SAASY,SAAT,GAAqB;AAClC3C,EAAAA,KAAK,CAACC,SAAN,CAAgB,MAAM;AACpB2C,IAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACAC,IAAAA,QAAQ,CAACC,IAAT,CAAcC,SAAd,GAA0B,CAA1B;AACD,GAHD,EAGG,EAHH;AAKA,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBlD,KAAK,CAACE,QAAN,CAAe;AACzCiD,IAAAA,QAAQ,EAAE,gBAD+B;AAEzCC,IAAAA,YAAY,EAAE;AAF2B,GAAf,CAA5B;AAMA,QAAM;AAAA,OAACC,OAAD;AAAA,OAAUC;AAAV,MAAwBpD,QAAQ,CAAC,EAAD,CAAtC;;AACA,QAAMqD,WAAW,GAAIC,KAAD,IAAWA,KAAK,CAACC,MAAN,CAAaC,MAAb,EAA/B,CAbkC,CAelC;AACA;AACA;AACA;AACA;;;AACA,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAkB1D,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM;AAAA,OAAC2D,OAAD;AAAA,OAAUC;AAAV,MAAwB5D,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM;AAAA,OAAC6D,KAAD;AAAA,OAAQC;AAAR,MAAoB9D,QAAQ,CAAC,KAAD,CAAlC;AACA,QAAM;AAAA,OAAC+D,YAAD;AAAA,OAAeC;AAAf,MAAkChE,QAAQ,CAAC;AAC/CiE,IAAAA,KAAK,EAAE,EADwC;AAE/CC,IAAAA,OAAO,EAAE;AAFsC,GAAD,CAAhD;AAKA,QAAM;AAAA,OAACC,WAAD;AAAA,OAAcC;AAAd,MAAgCpE,QAAQ,CAAC,KAAD,CAA9C;AAEA,QAAM;AAAA,OAACqE,WAAD;AAAA,OAAcC;AAAd,MAAgCtE,QAAQ,CAAC,KAAD,CAA9C;;AAEA,QAAMuE,SAAS,GAAG,MAAOC,GAAP,IAAe;AAC/B;AACA,UAAM5C,KAAK,CAAC6C,GAAN,CAAW,yEAAwED,GAAI,EAAvF,EACHE,IADG,CACEC,GAAG,IAAI;AACXb,MAAAA,QAAQ,CAAC,KAAD,CAAR,CADW,CAEX;;AACAJ,MAAAA,OAAO,CAACiB,GAAG,CAACC,IAAL,CAAP,CAHW,CAIX;;AAEA,UAAGD,GAAG,CAACC,IAAJ,CAASf,KAAZ,EAAkB;AAChBgB,QAAAA,OAAO,CAACC,GAAR,CAAYjB,KAAZ;;AAEA,gBAAOc,GAAG,CAACC,IAAJ,CAASf,KAAhB;AACE,eAAK,0CAAL;AACEG,YAAAA,eAAe,CAAC;AACdC,cAAAA,KAAK,EAAE,+BADO;AAEdC,cAAAA,OAAO,EAAE;AAFK,aAAD,CAAf;AAIAI,YAAAA,cAAc,CAAC,IAAD,CAAd;AACA;;AACF;AACEN,YAAAA,eAAe,CAAC;AACdC,cAAAA,KAAK,EAAEU,GAAG,CAACC,IAAJ,CAASf,KADF;AAEd;AACAK,cAAAA,OAAO,EAAE;AAHK,aAAD,CAAf;AAKA;AAdJ;;AAiBAJ,QAAAA,QAAQ,CAAC,IAAD,CAAR;AAED,OAtBD,MAsBO;AACLiB,QAAAA,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsCC,IAAI,CAACC,SAAL,CAAeP,GAAG,CAACC,IAAnB,CAAtC;AACA1E,QAAAA,MAAM,CAACiF,IAAP,CAAY,OAAZ;AACD;AAEF,KAlCG,EAmCHC,KAnCG,CAmCIvB,KAAD,IAAW;AAChBgB,MAAAA,OAAO,CAACC,GAAR,CAAYjB,KAAZ;AACAO,MAAAA,cAAc,CAAC,IAAD,CAAd;AACD,KAtCG,EAuCHiB,OAvCG,CAuCK,MAAM;AACbzB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAzCG,CAAN;AA0CD,GA5CD,CAhCkC,CA8ElC;AACA;AACA;;;AAEA9D,EAAAA,KAAK,CAACC,SAAN,CAAgB,MAAM,CACpB;AACD,GAFD,EAEG,CAAC0D,IAAD,CAFH,EAlFkC,CA0FlC;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAEA,WAAS6B,WAAT,CAAqBhC,KAArB,EAA4B;AAC1BA,IAAAA,KAAK,CAACiC,cAAN;AACAnC,IAAAA,UAAU,CAAC,EAAD,CAAV;AACAU,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACAQ,IAAAA,cAAc,CAAC,KAAD,CAAd;AAED;;AAED,WAASkB,YAAT,CAAsBlC,KAAtB,EAA6B;AAE3BQ,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACAM,IAAAA,cAAc,CAAC,KAAD,CAAd;AACAd,IAAAA,KAAK,CAACiC,cAAN;AACAnC,IAAAA,UAAU,CAACE,KAAK,CAACC,MAAN,CAAakC,KAAd,CAAV;AACD;;AAAA;;AAED,QAAMC,YAAY,GAAIpC,KAAD,IAAW;AAC5BA,IAAAA,KAAK,CAACiC,cAAN;AACA3B,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAW,IAAAA,SAAS,CAACpB,OAAD,CAAT;AACH,GAJD;;AAOA,QAAMwC,OAAO,GAAGnD,SAAS,EAAzB;AACA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCADF,CADF,EAKE,MAAC,MAAD;AACE,IAAA,QAAQ,MADV;AAEE,IAAA,KAAK,EAAC,aAFR,CAGE;AACA;AAJF;AAKE,IAAA,KAAK,EAAE,MAAC,WAAD;AAAa,MAAA,kBAAkB,EAAC,MAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,EAgBE;AACE,IAAA,SAAS,EAAEmD,OAAO,CAACC,UADrB;AAEE,IAAA,KAAK,EAAE;AACLC,MAAAA,cAAc,EAAE,OADX;AAELC,MAAAA,kBAAkB,EAAE;AAFf,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE;AAAK,IAAA,SAAS,EAAEH,OAAO,CAACI,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,aAAD;AAAe,IAAA,OAAO,EAAC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,QAAD;AAAU,IAAA,EAAE,EAAE,EAAd;AAAkB,IAAA,EAAE,EAAE,CAAtB;AAAyB,IAAA,EAAE,EAAE,CAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,SAAS,EAAEJ,OAAO,CAACK,IAAzB;AAA+B,IAAA,QAAQ,EAAEN,YAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AACE,IAAA,KAAK,EAAC,MADR;AAEE,IAAA,MAAM,MAFR;AAGE,IAAA,SAAS,EAAEC,OAAO,CAACM,UAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE;AAAI,IAAA,SAAS,EAAEN,OAAO,CAACO,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBALF,CADF,EAQE,MAAC,QAAD;AAAU,IAAA,MAAM,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEG/B,WAAW,IACV,MAAC,eAAD;AACE,IAAA,OAAO,EACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,gCAFJ,CAME;AANF;AAOE,IAAA,KAAK,EAAC,QAPR;AAQE,IAAA,IAAI,EAAC,cARP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,EAeGN,KAAK,IACJ,MAAC,eAAD;AACE,IAAA,OAAO,EACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIE,YAAY,CAACE,KAAjB,CADF,OAC8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD9B,OACqCF,YAAY,CAACG,OADlD,CAFJ,CAME;AANF;AAOE,IAAA,KAAK,EAAC,SAPR;AAQE,IAAA,IAAI,EAAC,cARP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBJ,EA8DG,CAACG,WAAD,IAEC,MAAC,WAAD;AACE,IAAA,EAAE,EAAC,KADL;AAEE,IAAA,gBAAgB,EAAE;AAChB8B,MAAAA,SAAS,EAAE;AADK,KAFpB;AAKE,IAAA,UAAU,EAAE;AACVC,MAAAA,WAAW,EAAE,QADH;AAEVC,MAAAA,IAAI,EAAE,MAFI;AAGVZ,MAAAA,KAAK,EAAEtC,OAHG;AAIVmD,MAAAA,QAAQ,EAAEd,YAJA;AAKVe,MAAAA,OAAO,EAAElD,WALC;AAMVmD,MAAAA,cAAc,EAAEzE,cANN;AAOV0E,MAAAA,cAAc,EACZ,MAAC,cAAD;AAAgB,QAAA,QAAQ,EAAC,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,aAAD;AAAe,QAAA,SAAS,EAAEd,OAAO,CAACe,eAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AARQ,KALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhEJ,CARF,EAmIE;AAAK,IAAA,SAAS,EAAEf,OAAO,CAACgB,UAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGGhD,OAAO,IACN,MAAC,gBAAD;AAAkB,IAAA,KAAK,EAAE;AAAEiD,MAAAA,KAAK,EAAE;AAAT,KAAzB;AAA+C,IAAA,IAAI,EAAE,EAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EAMG,CAACjD,OAAD,IAAY,CAACU,WAAb,IACC,MAAC,MAAD;AAAQ,IAAA,MAAM,MAAd;AAAe,IAAA,KAAK,MAApB;AAAqB,IAAA,KAAK,EAAC,SAA3B;AAAqC,IAAA,IAAI,EAAC,IAA1C;AAA+C,IAAA,IAAI,EAAC,QAApD;AAA6D,IAAA,KAAK,EAAC,QAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAPJ,EAYGA,WAAW,IACV,4BACE,MAAC,MAAD;AAAQ,IAAA,MAAM,MAAd;AAAe,IAAA,KAAK,MAApB;AAAqB,IAAA,KAAK,EAAC,SAA3B;AAAqC,IAAA,IAAI,EAAC,IAA1C;AAA+C,IAAA,IAAI,EAAC,sCAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EAKE,MAAC,MAAD;AAAQ,IAAA,MAAM,MAAd;AAAe,IAAA,KAAK,MAApB;AAAqB,IAAA,KAAK,EAAC,WAA3B;AAAuC,IAAA,IAAI,EAAC,IAA5C;AAAiD,IAAA,OAAO,EAAEiB,WAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,CAbJ,CAnIF,CADF,CADF,CADF,CADF,CAPF,EA+KE,MAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/KF,CAhBF,CADF;AAwMD","sourcesContent":["/*eslint-disable*/\nimport React from \"react\";\nimport { useEffect, useState } from 'react';\n// react components for routing our app without refresh\nimport Link from \"next/link\";\nimport Router from 'next/router'\n\nimport PropTypes from 'prop-types';\n\n\n\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport Icon from \"@material-ui/core/Icon\";\n// @material-ui/icons\nimport Email from \"@material-ui/icons/Email\";\nimport Favorite from \"@material-ui/icons/Favorite\";\nimport AssignmentInd from \"@material-ui/icons/AssignmentInd\";\n// core components\nimport Head from 'next/head'\nimport Header from \"components/Header/Header.js\";\nimport HeaderLinks from \"components/Header/HeaderLinks.js\";\nimport Footer from \"components/Footer/Footer.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CustomInput from \"components/CustomInput/CustomInput.js\";\nimport SnackbarContent from \"components/Snackbar/SnackbarContent.js\";\nimport Input from '@material-ui/core/Input';\n\nimport MaskedInput from 'react-text-mask'\n\n\nimport SectionFooter from \"pages-sections/footer/SectionFooter.js\";\n\nimport axios from 'axios';\n\nimport loginPageStyle from \"assets/jss/nextjs-material-kit-pro/pages/loginPageStyle.js\";\n\nimport image from \"assets/img/bg7.jpg\";\n\n\nfunction TextMaskCustom(props) {\n  const { inputRef, ...other } = props;\n\n  return (\n    <MaskedInput\n      {...other}\n      ref={(ref) => {\n        inputRef(ref ? ref.inputElement : null);\n      }}\n      // mask={['(', /[1-9]/, /\\d/, /\\d/, ')', ' ', /\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, /\\d/]}\n      mask={[/[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, '.', /[0-9]/, /[0-9]/, /[0-9]/, '-', /[0-9]/, /[0-9]/]}\n      // placeholderChar={'\\u2000'}\n      showMask\n    />\n  );\n}\n\nTextMaskCustom.propTypes = {\n  inputRef: PropTypes.func.isRequired,\n};\n\nconst useStyles = makeStyles(loginPageStyle);\n\nexport default function LoginPage() {\n  React.useEffect(() => {\n    window.scrollTo(0, 0);\n    document.body.scrollTop = 0;\n  }, []);\n\n  const [values, setValues] = React.useState({\n    textmask: '(1  )    -    ',\n    numberformat: '1320',\n  });\n\n  \n  const [cpfUser, setCpfUser] = useState(\"\");\n  const handleFocus = (event) => event.target.select();\n\n  // const [user, setUser] = useState({\n  //   nome: \"\",\n  //   email: \"\",\n  //   cpf: \"\",\n  // });\n  const [user, setUser] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState({\n    title: \"\",\n    message: \"\"\n  });\n\n  const [dangerError, setDangerError] = useState(false);\n\n  const [faleConosco, setFaleConosco] = useState(false);\n\n  const fetchData = async (cpf) => {\n    // await axios.get(`https://api.fale.justfit.com.br/fechamentounidade/consultaExtrato?cpf=${cpf} 389.727.318-70`)\n    await axios.get(`https://api.fale.justfit.com.br/fechamentounidade/consultaExtrato?cpf=${cpf}`)\n      .then(res => {\n        setError(false);\n        // setUsers(prevState => [...prevState, ...res.data]);\n        setUser(res.data);\n        // console.log(res.data.cliente);\n\n        if(res.data.error){\n          console.log(error);\n        \n          switch(res.data.error) {\n            case 'Cliente já possue uma oferta cadastrada.':                \n              setErrorMessage({\n                title: \"Você já selecionou uma oferta\",\n                message: \"Em caso de dúvida, envie uma mensagem no fale conosco\"\n              });\n              setFaleConosco(true);\n              break; \n            default:\n              setErrorMessage({\n                title: res.data.error,\n                // message: \"Verifique seu CPF e tente novamente\"\n                message: \"\"\n              });\n              break;\n          }   \n          \n          setError(true);\n\n        } else {\n          localStorage.setItem('@justfit/user', JSON.stringify(res.data));\n          Router.push('/menu');\n        }        \n        \n      })\n      .catch((error) => {\n        console.log(error);\n        setDangerError(true);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  // React.useEffect(() => {\n  //   fetchData();\n  // }, []);\n\n  React.useEffect(() => {\n    // console.log(user);\n  }, [user]);\n\n\n\n\n  \n  // function handleClick(event) {\n  //   e.preventDefault();\n  //   console.log('O link foi clicado.');\n  //   alert(cpfUser);\n  //   console.log(cpfUser);\n  // }\n\n  // function handleChange(event) {\n  //   setError(false);\n  //   event.preventDefault();      \n  //   setCpfUser(event.target.value);       \n  // }\n\n  function handleClick(event) {\n    event.preventDefault();\n    setCpfUser(\"\");\n    setError(false);\n    setFaleConosco(false);\n    \n  }\n\n  function handleChange(event) {\n\n    setError(false);\n    setDangerError(false);\n    event.preventDefault(); \n    setCpfUser(event.target.value); \n  };\n  \n  const handleSubmit = (event) => {\n      event.preventDefault();\n      setLoading(true);\n      fetchData(cpfUser);       \n  }\n  \n\n  const classes = useStyles();\n  return (\n    <div>\n      <Head>\n        <title>Histórico do Aluno - Just Fit</title>\n        {/* <meta name=\"viewport\" content=\"initial-scale=1.0, width=device-width\" /> */}\n      </Head>\n      <Header\n        absolute\n        color=\"transparent\"\n        // brand=\"NextJS Material Kit PRO\"\n        // imgBrand={image}\n        links={<HeaderLinks dropdownHoverColor=\"info\" />}\n      />\n\n      \n\n\n      <div\n        className={classes.pageHeader}\n        style={{                    \n          backgroundSize: \"cover\",\n          backgroundPosition: \"top center\"\n        }}\n      >\n        <div className={classes.container}>\n          <GridContainer justify=\"center\">\n            <GridItem xs={12} sm={8} md={4}>\n              <Card>\n                <form className={classes.form} onSubmit={handleSubmit}>\n                  <CardHeader\n                    color=\"info\"\n                    signup\n                    className={classes.cardHeader}\n                  >\n                    <h4 className={classes.cardTitle}>Digite o seu CPF</h4>    \n                  </CardHeader>                  \n                  <CardBody signup>  \n\n                    {dangerError && (\n                      <SnackbarContent\n                        message={\n                          <span>\n                            <b>Erro ao buscar os dados:</b> Tente novamente mais tarde\n                          </span>\n                        }\n                        // close\n                        color=\"danger\"\n                        icon=\"info_outline\"\n                      />\n                    )}\n                    \n                    {error && (\n                      <SnackbarContent\n                        message={\n                          <span>\n                            <b>{errorMessage.title}</b> <br/> {errorMessage.message}\n                          </span>\n                        }\n                        // close\n                        color=\"warning\"\n                        icon=\"info_outline\"\n                      />\n                    )}\n\n\n                    {/* <Input\n                      value={values.textmask}\n                      onChange={handleChange}\n                      name=\"textmask\"\n                      id=\"formatted-text-mask-input\"\n                      inputComponent={TextMaskCustom}\n                    /> */}\n\n\n                                    \n\n\n                    {/* <CustomInput\n                      id=\"cpf\"\n                      // name=\"textmask\"                      \n                      formControlProps={{\n                        fullWidth: true\n                      }}                      \n                      inputProps={{\n                        name: \"textmask\",\n                        placeholder: \"CPF...\",\n                        type: \"text\",\n                        value: values.textmask,\n                        onChange: handleChange,\n                        inputComponent: TextMaskCustom,\n                        startAdornment: (\n                          <InputAdornment position=\"start\">\n                            <AssignmentInd className={classes.inputIconsColor} />\n                          </InputAdornment>\n                        )\n                      }}\n                    />  */}\n\n                    {!faleConosco && (\n\n                      <CustomInput\n                        id=\"cpf\"\n                        formControlProps={{\n                          fullWidth: true\n                        }}                      \n                        inputProps={{\n                          placeholder: \"CPF...\",\n                          type: \"text\",\n                          value: cpfUser,\n                          onChange: handleChange,\n                          onFocus: handleFocus,\n                          inputComponent: TextMaskCustom,\n                          startAdornment: (\n                            <InputAdornment position=\"start\">\n                              <AssignmentInd className={classes.inputIconsColor} />\n                            </InputAdornment>\n                          )\n                        }}\n                      /> \n                    )}\n                   \n\n                    \n                    \n\n\n\n                  {/* {!error && loading && <div>Loading data...</div>}\n                  {error && <div>There was an error.</div>}\n                  {!error && client && (                    \n                    <table>\n                      <thead>\n                        <tr>\n                          <th>Username</th>\n                          <th>Email</th>\n                          <th>Name</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                          <tr key={1}>\n                            <td>{client.nome}</td>\n                            <td>{client.email}</td>\n                            <td>{client.cpf}</td>\n                          </tr>\n\n                        {users.map((user, key) => (\n                          <tr key={key}>\n                            <td>{user.cliente.responsavelLegal}</td>\n                            <td>{user.cliente.email}</td>\n                            <td>{user.cliente.cpf}</td>\n                          </tr>\n                        ))}\n\n                      </tbody>\n                    </table>\n                  )} */}\n\n\n                  </CardBody>\n                  <div className={classes.textCenter}>\n                  \n\n                    {loading && (\n                      <CircularProgress style={{ color: \"#cad300\" }} size={30}/>\n                    )}\n                    {!loading && !faleConosco && (\n                      <Button button round color=\"primary\" size=\"lg\" type=\"submit\" value=\"Submit\">\n                        Ver meu extrato\n                      </Button>\n                    )}\n\n                    {faleConosco && (\n                      <>\n                        <Button button round color=\"primary\" size=\"lg\" href=\"https://justfit.com.br/fale-conosco/\">\n                          Ir para Fale Conosco\n                        </Button>\n                        <br/>\n                        <Button button round color=\"secondary\" size=\"lg\" onClick={handleClick}>\n                          Voltar\n                        </Button>\n                      </>\n                    )}\n                 \n                  </div>\n                </form>\n              </Card>\n            </GridItem>            \n          </GridContainer>\n        </div>   \n\n        \n        \n        <SectionFooter/>\n\n   \n      </div>\n\n    \n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}